% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/locate_p_center.R
\name{p_center}
\alias{p_center}
\title{P-Center Problem}
\usage{
p_center(
  demand,
  facilities,
  n_facilities,
  cost_matrix = NULL,
  distance_metric = "euclidean",
  method = c("binary_search", "mip"),
  verbose = FALSE
)
}
\arguments{
\item{demand}{An sf object representing demand points.}

\item{facilities}{An sf object representing candidate facility locations.}

\item{n_facilities}{Integer. Number of facilities to locate (p).}

\item{cost_matrix}{Optional. Pre-computed distance matrix.}

\item{distance_metric}{Distance metric: "euclidean" (default) or "manhattan".}

\item{method}{Algorithm to use: "binary_search" (default, faster) or "mip"
(direct mixed-integer programming formulation).}

\item{verbose}{Logical. Print solver progress.}
}
\value{
A list with two sf objects:
\itemize{
\item \verb{$demand}: Original demand sf with \code{.facility} column
\item \verb{$facilities}: Original facilities sf with \code{.selected} column
}
Metadata includes \code{max_distance} (the objective value).
}
\description{
Solves the P-Center problem: minimize the maximum distance from any demand
point to its nearest facility by locating exactly p facilities.
This is an equity-focused (minimax) objective that ensures no demand point
is too far from service.
}
\details{
The p-center problem minimizes the maximum distance between any demand point
and its assigned facility. This "minimax" objective ensures equitable access
by focusing on the worst-served location rather than average performance.

Two algorithms are available:
\itemize{
\item \code{"binary_search"} (default): Binary search over distances with set
covering subproblems. This converts the difficult minimax objective into
simpler feasibility problems and is typically much faster.
\item \code{"mip"}: Direct mixed-integer programming formulation with the
minimax objective. Can be slower but may be preferred for small problems
or when exact optimality certificates are needed.
}

The direct MIP formulation is:
\deqn{\min W}
Subject to:
\deqn{\sum_j y_j = p}
\deqn{\sum_j x_{ij} = 1 \quad \forall i}
\deqn{x_{ij} \leq y_j \quad \forall i,j}
\deqn{\sum_j d_{ij} x_{ij} \leq W \quad \forall i}
\deqn{x_{ij}, y_j \in \{0,1\}}

Where W is the maximum distance to minimize, \eqn{d_{ij}} is the distance
from demand i to facility j, \eqn{x_{ij} = 1} if demand i is assigned to
facility j, and \eqn{y_j = 1} if facility j is selected.
}
\section{Use Cases}{

P-center is appropriate when equity and worst-case performance matter:
\itemize{
\item \strong{Emergency services}: Fire stations or ambulance depots where
response time standards must be met for all residents
\item \strong{Equity-focused planning}: Ensuring no community is underserved,
even if it increases average travel distance
\item \strong{Critical infrastructure}: Backup facilities or emergency shelters
where everyone must be within reach
\item \strong{Service level guarantees}: When contracts or regulations specify
maximum acceptable distance or response time
}

For efficiency-focused objectives that minimize total travel, consider
\code{\link[=p_median]{p_median()}} instead.
}

\examples{
\dontrun{
library(sf)

demand <- st_as_sf(data.frame(x = runif(50), y = runif(50)), coords = c("x", "y"))
facilities <- st_as_sf(data.frame(x = runif(15), y = runif(15)), coords = c("x", "y"))

# Minimize maximum distance with 4 facilities
result <- p_center(demand, facilities, n_facilities = 4)

# Maximum distance any demand point must travel
attr(result, "spopt")$max_distance
}

}
\references{
Hakimi, S. L. (1965). Optimum Distribution of Switching Centers in a
Communication Network and Some Related Graph Theoretic Problems.
Operations Research, 13(3), 462-475. \doi{10.1287/opre.13.3.462}
}
\seealso{
\code{\link[=p_median]{p_median()}} for minimizing total weighted distance (efficiency objective)
}
