% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/locate_mclp.R
\name{mclp}
\alias{mclp}
\title{Maximum Coverage Location Problem (MCLP)}
\usage{
mclp(
  demand,
  facilities,
  service_radius,
  n_facilities,
  weight_col,
  cost_matrix = NULL,
  distance_metric = "euclidean",
  verbose = FALSE
)
}
\arguments{
\item{demand}{An sf object representing demand points.}

\item{facilities}{An sf object representing candidate facility locations.}

\item{service_radius}{Numeric. Maximum distance for coverage.}

\item{n_facilities}{Integer. Number of facilities to locate (p).}

\item{weight_col}{Character. Column name in \code{demand} containing demand weights.}

\item{cost_matrix}{Optional. Pre-computed distance matrix.}

\item{distance_metric}{Distance metric: "euclidean" (default) or "manhattan".}

\item{verbose}{Logical. Print solver progress.}
}
\value{
A list with two sf objects:
\itemize{
\item \verb{$demand}: Original demand sf with \code{.covered} and \code{.facility} columns
\item \verb{$facilities}: Original facilities sf with \code{.selected} column
}
Metadata is stored in the "spopt" attribute.
}
\description{
Solves the Maximum Coverage Location Problem: maximize total weighted
demand covered by locating exactly p facilities.
}
\details{
The MCLP maximizes the total weighted demand covered by locating exactly p
facilities. Unlike \code{\link[=lscp]{lscp()}}, which requires full coverage, MCLP accepts
partial coverage and optimizes for the best possible outcome given a fixed
budget (number of facilities).

The integer programming formulation is:
\deqn{\max \sum_i w_i z_i}
Subject to:
\deqn{\sum_j y_j = p}
\deqn{z_i \leq \sum_j a_{ij} y_j \quad \forall i}
\deqn{y_j, z_i \in \{0,1\}}

Where \eqn{w_i} is the weight (demand) at location i, \eqn{y_j = 1} if
facility j is selected, \eqn{z_i = 1} if demand i is covered, and
\eqn{a_{ij} = 1} if facility j can cover demand i.
}
\section{Use Cases}{

MCLP is appropriate when you have a fixed budget or capacity constraint:
\itemize{
\item \strong{Healthcare access}: Locating p clinics to maximize the population
within a 30-minute drive, given limited funding
\item \strong{Retail site selection}: Choosing p store locations to maximize
the number of potential customers within a trade area
\item \strong{Emergency services}: Placing p ambulance stations to maximize
the population reachable within an 8-minute response time
\item \strong{Conservation}: Selecting p reserve sites to maximize the number
of species or habitat area protected
\item \strong{Telecommunications}: Locating p cell towers to maximize population
coverage when full coverage is not economically feasible
}

For situations where complete coverage is required, use \code{\link[=lscp]{lscp()}} to find
the minimum number of facilities needed.
}

\examples{
\dontrun{
library(sf)

# Create demand with weights
demand <- st_as_sf(data.frame(
  x = runif(50), y = runif(50), population = rpois(50, 100)
), coords = c("x", "y"))
facilities <- st_as_sf(data.frame(x = runif(10), y = runif(10)), coords = c("x", "y"))

# Maximize population coverage with 3 facilities
result <- mclp(demand, facilities, service_radius = 0.3,
               n_facilities = 3, weight_col = "population")

attr(result, "spopt")$coverage_pct
}

}
\references{
Church, R., & ReVelle, C. (1974). The Maximal Covering Location Problem.
Papers in Regional Science, 32(1), 101-118. \doi{10.1007/BF01942293}
}
\seealso{
\code{\link[=lscp]{lscp()}} for finding the minimum facilities needed for complete coverage
}
