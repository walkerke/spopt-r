% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/region_skater.R
\name{skater}
\alias{skater}
\title{SKATER Spatial Clustering}
\usage{
skater(
  data,
  attrs = NULL,
  n_regions,
  weights = "queen",
  bridge_islands = FALSE,
  floor = NULL,
  floor_value = 0,
  scale = TRUE,
  seed = NULL,
  verbose = FALSE
)
}
\arguments{
\item{data}{An sf object with polygon or point geometries.}

\item{attrs}{Character vector of column names to use for clustering
(e.g., \code{c("var1", "var2")}). If NULL, uses all numeric columns.}

\item{n_regions}{Integer. Number of regions (clusters) to create.}

\item{weights}{Spatial weights specification. Can be:
\itemize{
\item \code{"queen"} (default): Polygons sharing any boundary point are neighbors
\item \code{"rook"}: Polygons sharing an edge are neighbors
\item An \code{nb} object from spdep or created with \code{\link[=sp_weights]{sp_weights()}}
\item A list for other weight types: \code{list(type = "knn", k = 6)} for
k-nearest neighbors, or \code{list(type = "distance", d = 5000)} for
distance-based weights
}}

\item{bridge_islands}{Logical. If TRUE, automatically connect disconnected
components (e.g., islands) using nearest-neighbor edges. If FALSE (default),
the function will error when the spatial weights graph is disconnected.}

\item{floor}{Optional. Column name specifying a floor constraint variable.}

\item{floor_value}{Numeric. Minimum sum of floor variable required per region.
Only used if \code{floor} is specified.}

\item{scale}{Logical. If TRUE (default), standardize attributes before clustering.}

\item{seed}{Optional integer for reproducibility.}

\item{verbose}{Logical. Print progress messages.}
}
\value{
An sf object with a \code{.region} column containing cluster assignments.
Metadata is stored in the "spopt" attribute.
}
\description{
Performs spatial clustering using the SKATER algorithm (Spatial 'K'luster
Analysis by Tree Edge Removal). The algorithm builds a minimum spanning
tree from the spatial contiguity graph, then iteratively removes edges
to create spatially contiguous clusters.
}
\examples{
\dontrun{
library(sf)
nc <- st_read(system.file("shape/nc.shp", package = "sf"))

# Cluster into 5 regions based on SIDS rates
result <- skater(nc, attrs = c("SID74", "SID79"), n_regions = 5)

# With floor constraint: each region must have at least 100,000 births
result <- skater(nc, attrs = c("SID74", "SID79"), n_regions = 5,
                 floor = "BIR74", floor_value = 100000)

# View results
plot(result[".region"])
}

}
\references{
Assuncao, R. M., Neves, M. C., Camara, G., & Freitas, C. da C. (2006).
Efficient regionalization techniques for socio-economic geographical units
using minimum spanning trees. International Journal of Geographical
Information Science, 20(7), 797-811.
}
